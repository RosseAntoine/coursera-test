<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="jquery.min.js"></script>
		<script type="text/javascript" src="qrcode.js"></script>
		<title>Test print.js</title>
	</head>
	<body>
		<!-- <form method="post" action="#" id="printJS-form"> -->
			<div id="divToPrint" style="position: absolute; left: -999em">

			</div>
 		<!-- </form> -->
		<script src="printjs/js/print.min.js" type="text/javascript"></script>
		<!-- <script src="printThis.js" type="text/javascript"></script> -->
		<!-- <link rel="stylesheet" href="printjs/css/print.min.css"> -->
		<script type="text/javascript">
			function generateQrcode() {
				// document.getElementById("qrcode").innerHTML = "";
				// var qrcode = new QRCode("qrcode");
				// qrcode.makeCode("4567");
				try {
					var elem = document.getElementById('newDiv');
				    elem.parentNode.removeChild(elem);
				}
				catch (err) {

				}

				createQrCode();
			}

			function printJson() {
				// var printContents = document.getElementById('divToPrint').innerHTML;
				// var printContents = [
				// 	'<div id="#toPrint">',
				// 		'<table>',
				// 			'<tr>',
				// 			    '<th>First</th>',
				// 			    '<th>Lastname</th> ',
				// 			    '<th>Age</th>',
				// 		  	'</tr>',
				// 		  		'<tr>',
				// 				    '<td>Jill</td>',
				// 				    '<td>Smith</td> ',
				// 				    '<td>50</td>',
				// 		  		'</tr>',
				// 	  		'<tr>',
				// 		  		'<tr>',
				// 				    '<td>aawfaw</td>',
				// 				    '<td>Smith</td> ',
				// 				    '<td>50</td>',
				// 		  		'</tr>',
				// 		  	'</tr>',
				// 		'</table>',
				// 		'<img src="buttonprint.png" height="50" width="50">',
				// 	'</div>'
				// ].join('\n');
			 // 	$("#toPrint").printThis();

				// console.log("printJson");
				// var someJSONdata = [
				//     {
				//        name: 'John Doe',
				//        email: 'john@doe.com',
				//        phone: '111-111-1111'
				//     },
				//     {
				//        name: 'Barry Allen',
				//        email: 'barry@flash.com',
				//        phone: '222-222-2222'
				//     },
				//     {
				//        name: 'Cool Dude',
				//        email: 'cool@dude.com',
				//        phone: '333-333-3333'
				//     }
 			// 	];

 			// 	printJS({
				//     printable: someJSONdata,
				//     properties: ['name', 'email', 'phone'],
				//     type: 'json',
				//     gridHeaderStyle: 'color: red;  border: 2px solid #3971A5;',
				//     gridStyle: 'border: 2px solid #3971A5;'
				// });


				// var printContents = [
				// '<div id="#toPrint">',
				// 	'<table>',
				// 		'<tr>',
				// 		    '<th>First</th>',
				// 		    '<th>Lastname</th> ',
				// 		    '<th>Age</th>',
				// 	  	'</tr>',
				// 	  		'<tr>',
				// 			    '<td>Jill</td>',
				// 			    '<td>Smith</td> ',
				// 			    '<td>50</td>',
				// 	  		'</tr>',
				//   		'<tr>',
				// 	  		'<tr>',
				// 			    '<td>aawfaw</td>',
				// 			    '<td>Smith</td> ',
				// 			    '<td>50</td>',
				// 	  		'</tr>',
				// 	  	'</tr>',
				// 	'</table>',
				// 	'<div id="qrcode"></div>',
				// '</div>'
				// ].join('\n');
				// var divQrCode = printContents.getElementById("qrcode");
				

				// $("#text").
				// 	on("blur", function () {
				// 		makeCode();
				// 	}).
				// 	on("keydown", function (e) {
				// 		if (e.keyCode == 13) {
				// 			makeCode();
				// 		}
				// 	});


 				printJS('newDiv', 'html');
				


 				// var mywindow = window.open('', 'PRINT', 'height=400,width=600');

			  //   mywindow.document.write('<html><head><title>' + document.title  + '</title>');
			  //   mywindow.document.write('</head><body >');
			  //   mywindow.document.write('<h1>' + document.title  + '</h1>');
			  //   mywindow.document.write(document.getElementById(elem).innerHTML);
			  //   mywindow.document.write('</body></html>');

			  //   mywindow.document.close(); // necessary for IE >= 10
			  //   mywindow.focus(); // necessary for IE >= 10*/

			  //   mywindow.print();
			  //   mywindow.close();

			  //   return true;
			}

			function createQrCode() {
				// const newDiv = document.createElement("div");
				// newDiv.id = "newDiv";
				// newDiv.style = "position: absolute; left: -999em";
				// // const newContent = document.createTextNode("Salutations !");
				// // newDiv.appendChild(newContent);
				// const actualDiv = document.getElementById("divToPrint");
  		// 		document.body.insertBefore(newDiv, actualDiv);
  		// 		var qrcode = new QRCode("newDiv");
  		// 		qrcode.makeCode("4567");

				const newDiv = document.createElement("div");
				newDiv.id = "newDiv";
				newDiv.style = "position: absolute; left: -999em";
				// const newContent = document.createTextNode("Salutations !");
				// newDiv.appendChild(newContent);
				const actualDiv = document.getElementById("divToPrint").appendChild(newDiv);
  				// document.body.insertBefore(newDiv, actualDiv);
  				var qrcode = new QRCode("newDiv");
  				qrcode.makeCode("4567");
			}
		</script>
		<div>
<!-- 			<form id="printJSform">
				First name:<br>
				<input type="text" name="firstname"><br>
				Last name:<br>
				<input type="text" name="lastname">
				Label:<br>
				<input type="image" src="buttonprint.png"><br>
 			</form> -->
			<button type="button" onclick="printJson()">Print</button>
			<button type="button" onclick="generateQrcode()">Generate QR code</button>
		</div>
	</body>
</html>